<script defer='defer'>
  const waitForJQuery = setInterval(function () {
    if (typeof $ != 'undefined') {

      // Hide Header on on scroll down
      const $footer = $('#footer')
      let didScroll
      let lastScrollTop = 0
      const delta = 50
      const navbarHeight = $footer.outerHeight()

      $(window).scroll(function (event) {
        didScroll = true
      })

      setInterval(function () {
        if (didScroll) {
          hasScrolled()
          didScroll = false
        }
      }, 250)

      function hasScrolled() {
        let st = $(this).scrollTop()
        // Make sure they scroll more than delta
        if (Math.abs(lastScrollTop - st) <= delta) {
          return
        }
        const direction = lastScrollTop - st
        console.info('direction', direction)
        if (direction > 0) {
          // Hide footer
          console.info('hide footer')
          $footer.removeClass('show-footer').addClass('hide-footer')

        } else {
          // show footer
          if (st + $(window).height() < $(document).height()) {
            console.info('show footer')
            $footer.removeClass('hide-footer').addClass('show-footer')
          }
        }

        /*
        console.info('do changes here.')
        // If they scrolled down and are past the navbar, add class .nav-up.
        // This is necessary so you never see what is "behind" the navbar.
        if (st > lastScrollTop && st > navbarHeight) {
          // Scroll Down
          $footer.removeClass('nav-down').addClass('nav-up')
        } else {
          // Scroll Up
          if (st + $(window).height() < $(document).height()) {
            $footer.removeClass('nav-up').addClass('nav-down')
          }
        }
        */

        lastScrollTop = st
      }

      clearInterval(waitForJQuery)
    }
  }, 10)
</script>
